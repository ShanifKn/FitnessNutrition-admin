<div class="flex justify-between items-start">
  <h1 class="text-black text-[24px] font-bold">Coupons</h1>


  <p-button
    label="Add New Coupon"
    icon="pi pi-plus-circle"
    styleClass="px-5 bg-[#20A1FF] text-white py-3 font-semibold rounded-md"
    iconPos="right"
  />

</div>

<div class="p-3 py-5 bg-white rounded-md shadow-lg grid gap-5 mt-4 ">
  <div
    class="flex items-center border border-gray-300 bg-white rounded-xl px-4 py-2"
  >
    <span class="pi pi-search"></span>
    <input
      type="text"
      placeholder="Search Coupons"
      class="ml-3 w-full focus:outline-none text-gray-700"
    />
  </div>

  <p-table
    [value]="coupons"
    [rows]="10"
    [paginator]="true"
    paginatorStyleClass="text-[#825092]"
    [tableStyle]="{ 'min-width': '50rem' }"
  >
    <ng-template pTemplate="header">
      <tr class="flex">
        <th
          pSortableColumn="name"
          class="flex items-center w-full text-white bg-[#825092]"
        >
          Name <p-sortIcon field="name" />
        </th>

        <th
          pSortableColumn="type"
          class="flex items-center w-full text-white bg-[#825092]"
        >
          Type <p-sortIcon field="type" />
        </th>

        <!-- -->
        <th
          pSortableColumn="registered"
          class="flex items-center w-full text-white bg-[#825092]"
        >
          Registered <p-sortIcon field="registered" />
        </th>
        <th
          pSortableColumn="status"
          class="flex items-center w-full text-white bg-[#825092]"
        >
          Status <p-sortIcon field="status" />
        </th>

        <th
          pSortableColumn="start"
          class="flex items-center w-full text-white bg-[#825092]"
        >
          Start<p-sortIcon field="start" />
        </th>

        <th
          pSortableColumn="end"
          class="flex items-center w-full text-white bg-[#825092]"
        >
          End<p-sortIcon field="end" />
        </th>

        <th class="flex items-center w-full text-white bg-[#825092]">Edit</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
      <tr class="flex">
        <td class="w-full text-[#1A1A1A] text-sm 2xl:text-base font-medium">
          {{ product.name }}
        </td>
        <td class="w-full text-[#1A1A1A] text-sm 2xl:text-base font-medium">
          {{ product.type }}
        </td>
        <td class="w-full text-[#1A1A1A] text-sm 2xl:text-base font-medium">
          {{ product.registered }}
        </td>

        <td class="w-full text-[#1A1A1A] text-sm 2xl:text-base font-medium">
          <div [ngSwitch]="product.status">
            <!-- Case: Delivered -->
            <p
              *ngSwitchCase="'Enabled'"
              class="bg-green-100 text-green-600 px-4 py-1 rounded text-sm tracking-wide w-fit"
            >
              Enabled
            </p>

            <!-- Case: Pending -->
            <p
              *ngSwitchCase="'Finished'"
              class="bg-[#FFCADA] text-red-600 px-4 py-1 rounded text-sm tracking-wide w-fit"
            >
              Finished
            </p>

            <!-- Case: Cancelled -->
            <p
              *ngSwitchCase="'Planned'"
              class="bg-[#D4EBFF] text-[#0094FF] px-4 py-1 rounded text-sm tracking-wide w-fit"
            >
              Planned
            </p>

            <!-- Default case (if status doesn't match any cases) -->
            <button
              *ngSwitchDefault
              class="bg-gray-500 text-white px-4 py-1 rounded text-sm tracking-wide w-fit"
            >
              {{ product.status }}
            </button>
          </div>
        </td>

        <td class="w-full text-[#1A1A1A] text-sm 2xl:text-base font-medium">
          {{ product.start }}
        </td>

        <td class="w-full text-[#1A1A1A] text-sm 2xl:text-base font-medium">
          {{ product.end }}
        </td>

        <td class="w-full">
          <i
            class="pi pi-pen-to-square text-[#007EF2] cursor-pointer"
            style="font-size: 1.5rem"
            [routerLink]="['/catalogue/coupons/detail/', product._id]"
          ></i>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
